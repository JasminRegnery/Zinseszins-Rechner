<html>
<head>
	<meta charset="utf-8">
	<title>ZinsesZins-Rechner</title>
	<script>
		function fRechner() {
			var vZinsen;
			var vJahr = 0;
			var vEndkapital;
			var vAusgabe = "";
			var vZinssatz = document.getElementById("idZinssatz").value;
			var vStartkapital = document.getElementById("idStartkapital").value;
			var vLaufzeit = document.getElementById("idLaufzeit").value;
			
			var vZinseszins = 0;
			var vGesamtzinsen;
			
			vAusgabe = vAusgabe + "<table border = 1>";
			vAusgabe = vAusgabe + "<tr><th>Jahr</th>";
			vAusgabe = vAusgabe + "<th>Jahresstartkapital (01.01.)</th>";
			vAusgabe = vAusgabe + "<th>Zinsen (31.12.)</th>";
			vAusgabe = vAusgabe + "<th>Jahresendkapital (31.12.)</th></tr>";


			while (vLaufzeit >= vJahr) {
				vZinsen = vStartkapital*(vZinssatz/100);
				vEndkapital = parseFloat(vZinsen) + parseFloat(vStartkapital);
				
					if (vZinsen >= 22.50) {
						vAusgabe = vAusgabe + "<tr><td style=Background-color:green>" + vJahr + "</td>";
						vAusgabe = vAusgabe + "<td style=Background-color:green>" + vStartkapital + " €</td>";
						vAusgabe = vAusgabe + "<td style=Background-color:green>" + vZinsen.toFixed(2) + " €</td>";
						vAusgabe = vAusgabe + "<td style=Background-color:green>" + vEndkapital.toFixed(2) + " €</td></tr>";
					} else if (vZinsen < 0) {
						vAusgabe = vAusgabe + "<tr><td style=Background-color:red>" + vJahr + "</td>";
						vAusgabe = vAusgabe + "<td style=Background-color:red>" + vStartkapital + " €</td>";
						vAusgabe = vAusgabe + "<td style=Background-color:red>" + vZinsen.toFixed(2) + " €</td>";
						vAusgabe = vAusgabe + "<td style=Background-color:red>" + vEndkapital.toFixed(2) + " €</td></tr>";
					} else {
						vAusgabe = vAusgabe + "<tr><td>" + vJahr + "</td>";
						vAusgabe = vAusgabe + "<td>" + vStartkapital + " €</td>";
						vAusgabe = vAusgabe + "<td>" + vZinsen.toFixed(2) + " €</td>";
						vAusgabe = vAusgabe + "<td>" + vEndkapital.toFixed(2) + " €</td></tr>";
					}
				
				vStartkapital = vEndkapital.toFixed(2);
				
					vGesamtzinsen = vZinsen + vZinseszins;
					vZinseszins = vGesamtzinsen;
				
				vJahr++;
			}
			
			vAusgabe = vAusgabe + "</table>";
			
			vAusgabe = vAusgabe + "<br>Gesamtkosten nach Laufzeit: ";
			vAusgabe = vAusgabe + vGesamtzinsen.toFixed(2) + " €";
			
			document.getElementById("idAusgabe").innerHTML = vAusgabe;
		}
	</script>
</head>
<body>
	<h1>Zinseszins-Rechner</h1>
	Startkapital: <input id="idStartkapital" type="text" value="1000"> € <br><br>
	Zinssatz: <input id="idZinssatz" type="text" value="2"> % <br>
	Laufzeit: <input id="idLaufzeit" type="text" value="5"> Jahre <br><br>
	<button onClick="fRechner();">Zinsen berechnen</button><br><br>
	<div id="idAusgabe"></div>
</body>
</html>
