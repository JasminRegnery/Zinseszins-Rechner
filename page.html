<html>
<head>
	<meta charset="utf-8">
	<title>Kostenfunktion</title>
	<script>
		function fKostenfunktion() {
			var vK; //K(x)
			var vE; //E(x)
			var vG; //G(x)
			var vk; //variable Stückkosten
			var vp; //Stückpreis 
			var vFixkosten;
			var vStart = 1000;
			var vMenge; //Produktionsmengen
			
			var vBEP; //Break-Even-Point
			var vGewinnschwelle;
			var vAusgabe = "";
			
			vk = parseFloat(document.getElementById("idk").value);
			vp = parseFloat(document.getElementById("idp").value);
			vFixkosten = parseFloat(document.getElementById("idFixkosten").value);
			vMenge = parseFloat(document.getElementById("idMenge").value);
			
			vAusgabe = vAusgabe + "<table border = 1>";
			vAusgabe = vAusgabe + "<tr><th>Menge</th>";
			vAusgabe = vAusgabe + "<th>K(x) = mx + b</th>";
			vAusgabe = vAusgabe + "<th>E(x) = p*x</th>";
			vAusgabe = vAusgabe + "<th>G(x) = E(x) - K(x)</th>";
			vAusgabe = vAusgabe + "<th>Bemerkung</th></tr>";
			
			while (vStart <= vMenge) {
				vK = vFixkosten + (vk* vStart);
				vE = vp*vStart;
				vG = vE - vK;
				
				vAusgabe = vAusgabe + "<tr><td>" + vStart + "</td>";
				vAusgabe = vAusgabe + "<td>" + vK.toFixed(2) + " €</td>";
				vAusgabe = vAusgabe + "<td>" + vE.toFixed(2) + " €</td>";
					
					if (vG < 0) {
						vAusgabe = vAusgabe + "<td style=color:red>" + vG.toFixed(2) + " €</td>";
						vAusgabe = vAusgabe + "<td>Verlust</td></tr>";
					} else {
						vAusgabe = vAusgabe + "<td>" + vG.toFixed(2) + " €</td>";
						vAusgabe = vAusgabe + "<td>Gewinn</td></tr>";
					}
				
				vStart = vStart + 1000;
			}

			vAusgabe = vAusgabe + "</table>";
			
			vBEP = vFixkosten /(vp - vk);
			vAusgabe = vAusgabe + "<br>Break-Even-Point: " + vBEP + " Stück<br>";
			
			vGewinnschwelle = vBEP * vp;
			vAusgabe = vAusgabe + "Gewinnschwelle: " + vGewinnschwelle.toFixed(2) + " €";
			
			document.getElementById("idAusgabe").innerHTML = vAusgabe;
		}
	</script>
	
</head>
<body>
	<h1>Gewinn- und Erlösfunktion</h1>
	variable Stückkosten (k): <input id="idk" size="6" typ="text" value="4.50">
	Fixkosten: <input id="idFixkosten" size="6" typ="text" value="12800"><br><br>
	Produktionsmenge (x): <input id="idMenge" size="6" typ="text" value="20000"> 
	Stückpreis (p): <input id="idp" size="6" typ="text" value="6"><br><br>
	<button onClick="fKostenfunktion();">Kostentabelle erstellen</button><br><br>
	<div id="idAusgabe"></div>
</body>
</html>
